{% extends "accounts/profile/base.html" %} {% load static %}
<!---->
{% block css %}{% endblock css %}
<!---->
{% block main %}
<!-- Page Content -->
<div class="container">
  <form>
    <div class="input-group">
      <span class="input-group-text">First and last name</span>
      <input type="text" aria-label="First name" class="form-control" />
      <input type="text" aria-label="Last name" class="form-control" />
    </div>
    <br />
    <br />
    <div class="input-group flex-nowrap">
      <span class="input-group-text" id="addon-wrapping">Student ID</span>
      <input
        type="text"
        class="form-control"
        placeholder="Student ID"
        aria-label="Username"
        aria-describedby="addon-wrapping"
      />
    </div>
    <br />
    <br />
    <div class="input-group flex-nowrap">
      <span class="input-group-text" id="addon-wrapping">Name of school</span>
      <input
        type="text"
        class="form-control"
        placeholder="Example..collage of Califonia "
        aria-label="Username"
        aria-describedby="addon-wrapping"
      />
    </div>
    <br />
    <div class="input-group mb-3">
      <span class="input-group-text" id="inputGroup-sizing-default"
        >Year of Study</span
      >
      <input
        type="text"
        class="form-control"
        aria-label="Sizing example input"
        aria-describedby="inputGroup-sizing-default"
      />
      <!-- <div id="emailHelp" class="form-text">Give your year of study</div> -->
    </div>

    <br />
    <div class="input-group flex-nowrap">
      <span class="input-group-text" id="addon-wrapping">Login Link</span>
      <input
        type="text"
        class="form-control"
        placeholder="login page fo you canvas or moodle"
        aria-label="Username"
        aria-describedby="addon-wrapping"
      />
    </div>
    <br />
    <br />
    <div class="mb-3">
      <label for="exampleInputEmail1" class="form-label"
        >Email or Username</label
      >
      <input
        type="email"
        class="form-control"
        id="exampleInputEmail1"
        aria-describedby="emailHelp"
      />
      <div id="emailHelp" class="form-text">
        We'll never share your school login email or username with anyone else.
      </div>
    </div>
    <div class="mb-3">
      <label for="exampleInputPassword1" class="form-label">Password</label>
      <input type="text" class="form-control" id="exampleInputPassword1" />
      <div id="emailHelp" class="form-text">
        Provide us with school canvas or moodle password
      </div>
    </div>
    <br />

    <label for="basic-url" class="form-label"
      >Enter the Subjects We will do for you</label
    >

    <div class="container mt-5">
      <div id="inputFields">
        <div class="input-group mb-3">
          <span class="input-group-text">Name</span>
          <input
            type="text"
            class="form-control"
            placeholder="Subject Name"
            aria-label="Subject Name"
          />
          <span class="input-group-text">Code</span>
          <input
            type="text"
            class="form-control"
            placeholder="Subject Code"
            aria-label="Subject Code"
          />
        </div>
      </div>
      <button class="btn btn-primary" onclick="addInputFields()">+</button>
    </div>

    <br />

    <label for="basic-url" class="form-label">Enter the the duration</label>
    <br />
    <span>From</span>

    <input type="text" name="daterange" value="01/01/2024" />
    <span>To: </span>
    <input type="text" name="daterange" value="01/15/2024" />
    <br />
    <br />
    <label for="basic-url" class="form-label">Duration in Weeks</label>
    <input
      class="form-control"
      type="text"
      value="2"
      aria-label="Disabled input example"
      disabled
      readonly
    />
    <br />
    <br />

    <div class="mb-3">
      <label for="exampleFormControlTextarea1" class="form-label"
        >Extra Details/instructions</label
      >
      <textarea
        class="form-control"
        id="exampleFormControlTextarea1"
        rows="3"
      ></textarea>
    </div>
    <br />
    <br />
    <label for="basic-url" class="form-label"
      >When you complete any task on a daily basis, notify me on...</label
    >
    <div class="mb-3 form-check">
      <input type="checkbox" class="form-check-input" id="exampleCheck1" />
      <label class="form-check-label" for="exampleCheck1">Email</label>
      <br />
      <input type="checkbox" class="form-check-input" id="exampleCheck2" />
      <label class="form-check-label" for="exampleCheck2">Whatsapp</label>
    </div>

    <div class="input-group">
      <span class="input-group-text">Charge for the Subject</span>
      <span class="input-group-text">$</span>
      <span class="input-group-text">0.00</span>
    </div>
    <br />
    <div class="input-group">
      <span class="input-group-text">Charge for the duration</span>
      <span class="input-group-text">$</span>
      <span class="input-group-text">0.00</span>
    </div>

    <br />
    <br />
    <div class="input-group">
      <span class="input-group-text">Approx Total</span>
      <span class="input-group-text">$</span>
      <span class="input-group-text">0.00</span>
    </div>
    <br />
    <br />

    <button type="submit" class="btn btn-primary">Submit</button>

    <br />
    <br />
    <br />
  </form>
  <script>
    $(function () {
      $('input[name="daterange"]').daterangepicker(
        {
          opens: "left",
        },
        function (start, end, label) {
          console.log(
            "A new date selection was made: " +
              start.format("YYYY-MM-DD") +
              " to " +
              end.format("YYYY-MM-DD")
          );
        }
      );
    });
  </script>
  <script>
    function addInputFields() {
      // Clone the first input group
      var clonedInputFields = document
        .getElementById("inputFields")
        .firstElementChild.cloneNode(true);
      // Append the cloned input fields to the container
      document.getElementById("inputFields").appendChild(clonedInputFields);
    }
  </script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Include jQuery library -->

  <script>
    // Function to calculate the total price and update UI
    function calculateTotalPrice() {
      // Get the number of subjects
      var numSubjects = document.querySelectorAll(".input-group.mb-3").length;

      // Get the duration in weeks
      var durationWeeks = parseInt(
        document.querySelector(
          '.form-control[aria-label="Disabled input example"]'
        ).value
      );

      // Send data to server for calculation
      $.ajax({
        url: "/calculate-total", // Replace this with your server endpoint for total calculation
        type: "POST",
        dataType: "json",
        data: {
          numSubjects: numSubjects,
          durationWeeks: durationWeeks,
        },
        success: function (response) {
          // Update the total price display
          $(
            ".input-group:nth-last-child(2) .input-group-text:nth-last-child(1)"
          ).text(response.totalPrice.toFixed(2));
        },
        error: function (xhr, status, error) {
          console.error("Error:", error);
        },
      });
    }

    // Add event listeners to inputs for automatic price update
    $(document).on("input", ".form-control", calculateTotalPrice);

    // Trigger the calculation initially
    calculateTotalPrice();
  </script>

  <!-- xxxxxxxxxxxxxxxxxxxxxx -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"
  ></script>
</div>
{{ block.super }}
<div class="container sidebarpages">
  <!-- Team Members Row -->
  <div class="row mt-3">
    <div class="col-lg-8 col-sm-12">
      <form
        name="form1"
        method="post"
        action=""
        id="form1"
        target="_self"
        class="mt-n18"
      >
        <table class="myformpre">
          <tbody>
            <tr>
              <td></td>
            </tr>
            <tr>
              <td class="tableHeader">Order Process</td>
            </tr>
            <tr>
              <td>
                <p class="userfeedbackp">
                  Do you have any suggestions related to our order process?
                </p>
                <textarea
                  name="FeedbackOrderProcess"
                  rows="2"
                  cols="20"
                  id="txt_orderProcess"
                  class="form-control"
                ></textarea
                ><br />
              </td>
            </tr>
            <tr>
              <td class="tableHeader">Provided Order Quality</td>
            </tr>
            <tr>
              <td>
                <p class="userfeedbackp">
                  Would you like to share your thoughts regarding the quality of
                  the paper?
                </p>
                <textarea
                  name="FeedbackPaperQuality"
                  rows="2"
                  cols="20"
                  id="txt_PaperQuality"
                  class="form-control"
                ></textarea
                ><br />
              </td>
            </tr>
            <tr>
              <td class="tableHeader">Online Customer Support</td>
            </tr>
            <tr>
              <td>
                <p class="userfeedbackp">
                  Would you like to share the experience you had, with our
                  online customer support?
                </p>
                <textarea
                  name="FeedbackCustomerSupportService"
                  rows="2"
                  cols="20"
                  id="txt_support"
                  class="form-control"
                ></textarea
                ><br />
              </td>
            </tr>
            <tr>
              <td class="tableHeader">Other</td>
            </tr>
            <tr>
              <td>
                <p class="userfeedbackp">
                  Do you have any other feedback or suggestion for us?
                </p>
                <textarea
                  name="FeedbackOther"
                  rows="2"
                  cols="20"
                  id="txt_other"
                  class="form-control"
                ></textarea>
              </td>
            </tr>
            <tr class="mt-2">
              <td class="text-center">
                {% comment %}
                <button
                  href="{% url 'dispute_register_success_view' %}"
                  type="submit"
                  name="btn_feedback"
                  value="Submit"
                  id="btn_feedback"
                  class="btn-primary btn btn_wid200"
                >
                  Submit
                </button>
                {% endcomment %}
              </td>
            </tr>
          </tbody>
        </table>
      </form>
      <!--
          
        -->
      <div class="row mb-3">
        <div class="col-lg-12">
          <hr />
          <div class="ctaSmall">
            <a class="order-button1" href="{% url 'order' %}">ORDER NOW!</a>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4 col-sm-12"></div>
  </div>
</div>

<!-- Common Footer Included -->

{% endblock main %}
